namespace Test.Protocol

message UserInfo {
    int64 user_id = 1
    string username = 2
    string email = 3
    repeated string roles = 4
    bool is_active = 5
    DateTime created_at = 6
}

message LoginRequest {
    string username = 1
    string password = 2
}

message LoginResponse {
    bool success = 1
    UserInfo user = 2
    string token = 3
    string error_message = 4
}

message GetUserRequest {
    int64 user_id = 1
}

message GetUserResponse {
    UserInfo user = 1
    bool found = 2
}

message EchoRequest {
    string message = 1
    int64 timestamp = 2
}

message EchoResponse {
    string message = 3
    int64 timestamp = 4
    string server_time = 5
}

service TestService {
    rpc Login(LoginRequest) returns (LoginResponse)
    rpc GetUser(GetUserRequest) returns (GetUserResponse)
    rpc Echo(EchoRequest) returns (EchoResponse)
}